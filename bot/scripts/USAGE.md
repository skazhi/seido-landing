# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –ò–º–ø–æ—Ä—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤

## –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd /home/skazhi/–î–æ–∫—É–º–µ–Ω—Ç—ã/seido-landing/bot
source ../venv/bin/activate
pip install pdfplumber pandas openpyxl
```

## –®–∞–≥ 2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞

1. –°–∫–∞—á–∞–π –ø—Ä–æ—Ç–æ–∫–æ–ª –∑–∞–±–µ–≥–∞ (PDF –∏–ª–∏ Excel)
2. –°–æ—Ö—Ä–∞–Ω–∏ –≤ –ø–∞–ø–∫—É `bot/protocols/` (—Å–æ–∑–¥–∞–π –ø–∞–ø–∫—É, –µ—Å–ª–∏ –µ—ë –Ω–µ—Ç)
3. –ó–∞–ø–∏—à–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–±–µ–≥–µ:
   - –ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–±–µ–≥–∞
   - –î–∞—Ç–∞ (—Ñ–æ—Ä–º–∞—Ç: YYYY-MM-DD)
   - –ú–µ—Å—Ç–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è
   - –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä
   - –î–∏—Å—Ç–∞–Ω—Ü–∏—è

## –®–∞–≥ 3: –ò–º–ø–æ—Ä—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª–∞

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `import_example.py`:

```python
import asyncio
import sys
from pathlib import Path

sys.path.insert(0, str(Path(__file__).parent.parent))

from bot.scripts.parse_protocol import ProtocolImporter
from bot.db import db

async def main():
    # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
    await db.connect()
    
    # –°–æ–∑–¥–∞–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–µ—Ä–∞
    importer = ProtocolImporter()
    
    # –ò–º–ø–æ—Ä—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
    await importer.import_protocol(
        file_path="bot/protocols/pjaterka_2026.pdf",  # –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É
        race_name="–ü—è—Ç–µ—Ä–∫–∞ –≤ –ü–∞—Ä–∫–µ",
        race_date="2026-03-01",
        race_location="–ú–æ—Å–∫–≤–∞, –ü–∞—Ä–∫ –ì–æ—Ä—å–∫–æ–≥–æ",
        race_organizer="5–≤–µ—Ä—Å—Ç",
        race_type="—à–æ—Å—Å–µ",
        distance="5 –∫–º",
        header_row=0  # –ù–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏ —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ (–æ–±—ã—á–Ω–æ 0)
    )
    
    # –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç –ë–î
    await db.disconnect()
    print("‚úÖ –ò–º–ø–æ—Ä—Ç –∑–∞–≤–µ—Ä—à—ë–Ω!")

if __name__ == "__main__":
    asyncio.run(main())
```

–ó–∞–ø—É—Å—Ç–∏:
```bash
python import_example.py
```

## –ü—Ä–∏–º–µ—Ä—ã

### PDF –ø—Ä–æ—Ç–æ–∫–æ–ª
```python
await importer.import_protocol(
    file_path="bot/protocols/marathon_2026.pdf",
    race_name="–ú–æ—Å–∫–æ–≤—Å–∫–∏–π –º–∞—Ä–∞—Ñ–æ–Ω",
    race_date="2026-04-15",
    race_location="–ú–æ—Å–∫–≤–∞, –õ—É–∂–Ω–∏–∫–∏",
    race_organizer="–ú–æ—Å–∫–æ–≤—Å–∫–∏–π –º–∞—Ä–∞—Ñ–æ–Ω",
    distance="42.2 –∫–º",
    header_row=0
)
```

### Excel –ø—Ä–æ—Ç–æ–∫–æ–ª
```python
await importer.import_protocol(
    file_path="bot/protocols/cross_2026.xlsx",
    race_name="–ö—Ä–æ—Å—Å –ù–∞—Ü–∏–∏",
    race_date="2026-03-22",
    race_location="–ú–æ—Å–∫–≤–∞",
    race_organizer="–§–µ–¥–µ—Ä–∞—Ü–∏—è –ª—ë–≥–∫–æ–π –∞—Ç–ª–µ—Ç–∏–∫–∏",
    distance="10 –∫–º",
    sheet_name="–ü—Ä–æ—Ç–æ–∫–æ–ª",  # –ù–∞–∑–≤–∞–Ω–∏–µ –ª–∏—Å—Ç–∞
    header_row=0
)
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

–ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ –ø—Ä–æ–≤–µ—Ä—å –≤ –±–æ—Ç–µ:
1. –û—Ç–∫—Ä–æ–π –±–æ—Ç–∞ @seidocommunitybot
2. –û—Ç–ø—Ä–∞–≤—å `/stats` - –¥–æ–ª–∂–Ω–∞ —É–≤–µ–ª–∏—á–∏—Ç—å—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
3. –û—Ç–ø—Ä–∞–≤—å `/myresults` - –µ—Å–ª–∏ —Ç—ã –≤ –ø—Ä–æ—Ç–æ–∫–æ–ª–µ, —É–≤–∏–¥–∏—à—å —Å–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

**–û—à–∏–±–∫–∞ "–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω":**
- –ü—Ä–æ–≤–µ—Ä—å –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞)
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

**–û—à–∏–±–∫–∞ "–¢–∞–±–ª–∏—Ü—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã":**
- PDF –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–º (–Ω—É–∂–µ–Ω OCR)
- –ü–æ–ø—Ä–æ–±—É–π –¥—Ä—É–≥–æ–π —Ñ–æ—Ä–º–∞—Ç (Excel)

**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- –ü—Ä–æ–≤–µ—Ä—å –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏ —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ (header_row)
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ –ø—Ä–æ—Ç–æ–∫–æ–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω—É–∂–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏

**–ú–Ω–æ–≥–æ –æ—à–∏–±–æ–∫:**
- –ü—Ä–æ–≤–µ—Ä—å —Ñ–æ—Ä–º–∞—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
- –í–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω–∞ —Ä—É—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤:
1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –ø–æ–∏—Å–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –±–æ—Ç–µ
2. –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
3. –î–æ–±–∞–≤—å –±–æ–ª—å—à–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –¥–ª—è –ø–æ–ª–Ω–æ—Ç—ã –±–∞–∑—ã
